{% extends 'base.html' %}

{% block content %}
<div style="max-width:600px; margin:20px auto;">
    <h2 style="text-align:center; margin-bottom:20px;">Your Notifications</h2>
    <div class="notification-list">
        {% for notification in notifications %}
        <div style="display:flex; background:#fff; border:1px solid #ddd; border-radius:8px; padding:15px; margin-bottom:10px; {% if not notification.is_read %}box-shadow:0 2px 5px rgba(0,0,0,0.15);{% endif %}">
            <div style="margin-right:15px;">
                {% if notification.notification_type == 'PAYMENT' %}
                  <i class="bi bi-currency-dollar" style="font-size:24px; color:#17a2b8;"></i>
                {% elif notification.notification_type == 'ALLOCATION' %}
                  <i class="bi bi-pin-map" style="font-size:24px; color:#28a745;"></i>
                {% elif notification.notification_type == 'ANNOUNCEMENT' %}
                  <i class="bi bi-megaphone" style="font-size:24px; color:#ffc107;"></i>
                {% else %}
                  <i class="bi bi-bell" style="font-size:24px; color:#007aff;"></i>
                {% endif %}
            </div>
            <div style="flex:1;">
                <h5 style="margin:0 0 5px 0;">{{ notification.title }}</h5>
                <p style="margin:0 0 5px 0;">{{ notification.message|striptags|truncatewords:20 }}</p>
                <small style="color:#777;">{{ notification.created_at|timesince }} ago</small>
            </div>
            <div style="align-self:center;">
                <a href="{{ notification.get_absolute_url }}" style="text-decoration:none; color:#007aff;">View</a>
            </div>
        </div>
        {% empty %}
        <p style="text-align:center; color:#777;">No notifications yet.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
